# Pixel Art Quiz Game (åƒç´ é¢¨å•ç­”éŠæˆ²)

é€™æ˜¯ä¸€å€‹ä½¿ç”¨ React + Vite é–‹ç™¼çš„åƒç´ é¢¨æ ¼å•ç­”æ¸¬è©¦éŠæˆ²ï¼Œçµåˆ Google Sheets ä½œç‚ºå¾Œç«¯è³‡æ–™åº«ï¼Œé€é Google Apps Script (GAS) é€²è¡Œè³‡æ–™å­˜å–ã€‚

## âœ¨ ç‰¹è‰²
- ğŸ¨ **Pixel Art é¢¨æ ¼**ï¼šå¾©å¤è¡—æ©Ÿè¦–è¦ºè¨­è¨ˆã€‚
- ğŸ“± **RWD éŸ¿æ‡‰å¼**ï¼šæ”¯æ´é›»è…¦èˆ‡æ‰‹æ©ŸéŠç©ã€‚
- â˜ï¸ **Google Sheets å¾Œç«¯**ï¼šæ–¹ä¾¿ç®¡ç†é¡Œç›®èˆ‡æŸ¥çœ‹æˆç¸¾ã€‚
- ğŸ‘¾ **å‹•æ…‹ Boss**ï¼šæ¯ä¸€é¡Œéƒ½æœ‰éš¨æ©Ÿç”Ÿæˆçš„åƒç´ æ€ªç¸ (ä½¿ç”¨ DiceBear API)ã€‚

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. å®‰è£å°ˆæ¡ˆ
ç¢ºä¿ä½ çš„é›»è…¦å·²å®‰è£ [Node.js](https://nodejs.org/)ã€‚

```bash
# é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd pixel-game

# å®‰è£å¥—ä»¶
npm install
```

---

## ğŸ“Š Google Sheets è¨­å®š (å¾Œç«¯è³‡æ–™åº«)

è«‹ä¾ç…§ä»¥ä¸‹æ­¥é©Ÿå»ºç«‹ä½ çš„éŠæˆ²è³‡æ–™åº«ï¼š

1. å‰å¾€ [Google Sheets](https://sheets.google.com/) å»ºç«‹ä¸€å€‹æ–°çš„è©¦ç®—è¡¨ã€‚
2. å»ºç«‹å…©å€‹å·¥ä½œè¡¨ (Tabs)ï¼Œåç¨±å¿…é ˆå®Œå…¨ä¸€è‡´ï¼š
    - `é¡Œç›®`
    - `å›ç­”`

### `é¡Œç›®` å·¥ä½œè¡¨æ¬„ä½
è«‹åœ¨ç¬¬ä¸€åˆ—è¨­å®šæ¨™é¡Œï¼Œè³‡æ–™å¾ç¬¬äºŒåˆ—é–‹å§‹ï¼š

| æ¬„ä½ (A) | æ¬„ä½ (B) | æ¬„ä½ (C) | æ¬„ä½ (D) | æ¬„ä½ (E) | æ¬„ä½ (F) | æ¬„ä½ (G) |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **ID** | **é¡Œç›®** | **A** | **B** | **C** | **D** | **è§£ç­”** |
| Q001 | å°ç£æœ€é«˜çš„å±±æ˜¯ï¼Ÿ | ç‰å±± | é›ªå±± | é˜¿é‡Œå±± | é™½æ˜å±± | A |
| Q002 | React æ˜¯èª°é–‹ç™¼çš„ï¼Ÿ | Google | Meta | Apple | Amazon | B |

> **æ³¨æ„**ï¼šæ¬„ä½é †åºå¾ˆé‡è¦ï¼Œè«‹ä¾ç…§ A~G çš„é †åºæ’åˆ—ã€‚

### `å›ç­”` å·¥ä½œè¡¨æ¬„ä½
é€™é æ˜¯ç”¨ä¾†å„²å­˜ç©å®¶æˆç¸¾çš„ï¼Œåªè¦ç•™ç¬¬ä¸€åˆ—æ¨™é¡Œå³å¯ï¼Œç¨‹å¼æœƒè‡ªå‹•å¯«å…¥è³‡æ–™ï¼š

| æ¬„ä½ (A) | æ¬„ä½ (B) | æ¬„ä½ (C) | æ¬„ä½ (D) | æ¬„ä½ (E) | æ¬„ä½ (F) | æ¬„ä½ (G) |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **ID** | **é—–é—œæ¬¡æ•¸** | **ç¸½åˆ†** | **æœ€é«˜åˆ†** | **åˆæ¬¡é€šé—œåˆ†** | **èŠ±è²»æ¬¡æ•¸** | **æœ€è¿‘éŠç©** |

---

## âš™ï¸ Google Apps Script (GAS) éƒ¨ç½²

ç‚ºäº†è®“ç¶²é èƒ½è®€å– Google Sheetsï¼Œæˆ‘å€‘éœ€è¦éƒ¨ç½²ä¸€å€‹ APIã€‚

1. åœ¨ä½ çš„ Google Sheet ä¸­ï¼Œé»é¸ä¸Šæ–¹é¸å–®çš„ **ã€Œæ“´å……åŠŸèƒ½ã€** > **ã€ŒApps Scriptã€**ã€‚
2. å°‡å°ˆæ¡ˆä¸­çš„ `gas_script.js` å…§å®¹å®Œæ•´è¤‡è£½ï¼Œä¸¦è¦†è“‹æ‰ GAS ç·šä¸Šç·¨è¼¯å™¨è£¡çš„ç¨‹å¼ç¢¼ã€‚
3. æŒ‰ä¸‹å„²å­˜ (ğŸ’¾)ã€‚

### è¨­å®š GCP å°ˆæ¡ˆ (é¿å…è¢« Block)
ç”±æ–¼ Google å®‰å…¨æ€§é™åˆ¶ï¼Œå»ºè­°å°‡ Script é€£çµåˆ°æ¨™æº– GCP å°ˆæ¡ˆï¼š
1. åœ¨ Apps Script å·¦å´é» **ã€Œå°ˆæ¡ˆè¨­å®šã€ (âš™ï¸)** > **ã€Œè®Šæ›´å°ˆæ¡ˆã€**ã€‚
2. è¼¸å…¥ä¸€å€‹ä½ æœ‰æ¬Šé™çš„ GCP **å°ˆæ¡ˆç·¨è™Ÿ** (Project Number)ã€‚
3. å‰å¾€ [GCP Console](https://console.cloud.google.com/) > **OAuth åŒæ„ç•«é¢**ã€‚
4. å°‡ User Type è¨­ç‚º **ã€Œå¤–éƒ¨ã€**ã€‚
5. åœ¨ **ã€Œæ¸¬è©¦ä½¿ç”¨è€…ã€** ä¸­åŠ å…¥ä½ è‡ªå·±çš„ Gmailã€‚

### éƒ¨ç½²ç‚º Web App
1. åœ¨ Apps Script å³ä¸Šè§’é» **ã€Œéƒ¨ç½²ã€** > **ã€Œæ–°å»ºéƒ¨ç½²ä½œæ¥­ã€**ã€‚
2. å·¦å´é¸æ“‡ **ã€Œç¶²é æ‡‰ç”¨ç¨‹å¼ã€ (Web App)**ã€‚
3. è¨­å®šå¦‚ä¸‹ï¼š
    - **åŸ·è¡Œèº«åˆ†**ï¼š`æˆ‘ (Me)`
    - **èª°å¯ä»¥å­˜å–**ï¼š`ä»»ä½•äºº (Anyone)` ğŸ‘ˆ **é€™é»éå¸¸é‡è¦ï¼**
4. é»æ“Š **ã€Œéƒ¨ç½²ã€**ã€‚
5. è¤‡è£½ç”¢ç”Ÿçš„ **ç¶²é æ‡‰ç”¨ç¨‹å¼ç¶²å€** (ä»¥ `/exec` çµå°¾)ã€‚

---

## ğŸ”§ ç’°å¢ƒè®Šæ•¸è¨­å®š

1. åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„è¤‡è£½ç¯„ä¾‹æª”ï¼š
   ```bash
   cp .env.example .env
   ```
2. é–‹å•Ÿ `.env` æª”æ¡ˆä¸¦ç·¨è¼¯ï¼š

```env
# è²¼ä¸Šä½ å‰›å‰›è¤‡è£½çš„ GAS ç¶²é æ‡‰ç”¨ç¨‹å¼ç¶²å€
VITE_GOOGLE_APP_SCRIPT_URL=https://script.google.com/macros/s/ä½ çš„ID/exec

# é€šéé–€æª» (ç­”å°å¹¾é¡Œç®—éé—œ)
VITE_PASS_THRESHOLD=3

# æ¯æ¬¡éŠç©éš¨æ©ŸæŠ½å–çš„é¡Œç›®æ•¸é‡
VITE_QUESTION_COUNT=5
```

---

## â–¶ï¸ å•Ÿå‹•éŠæˆ²

```bash
npm run dev
```
æ‰“é–‹ç€è¦½å™¨è¦–çª— (é€šå¸¸æ˜¯ http://localhost:5173)ï¼Œè¼¸å…¥ ID å³å¯é–‹å§‹éŠç©ï¼

## ğŸ› ï¸ å¸¸è¦‹å•é¡Œ

- **è¼‰å…¥å¤±æ•— (Failed to load questions)**ï¼š
    - æª¢æŸ¥ `.env` è£¡çš„ URL æ˜¯å¦æ­£ç¢ºã€‚
    - æª¢æŸ¥ Google Sheet å·¥ä½œè¡¨åç¨±æ˜¯å¦çœŸçš„å« `é¡Œç›®`ã€‚
    - æª¢æŸ¥ GAS éƒ¨ç½²æ¬Šé™æ˜¯å¦ç‚º `ä»»ä½•äºº`ã€‚
- **CORS éŒ¯èª¤**ï¼š
    - é€™æ˜¯å› ç‚º GAS éƒ¨ç½²æ¬Šé™æ²’é–‹å°ï¼Œè«‹é‡æ–°ç®¡ç†éƒ¨ç½²ï¼Œå°‡æ¬Šé™æ”¹ç‚º `ä»»ä½•äºº`ã€‚

---

## ğŸš€ éƒ¨ç½²åˆ° GitHub Pages

æœ¬å°ˆæ¡ˆå·²è¨­å®š GitHub Actions è‡ªå‹•éƒ¨ç½²æµç¨‹ã€‚

### 1. è¨­å®šå„²å­˜åº« (Repository)
1. å°‡ç¨‹å¼ç¢¼æ¨é€åˆ° GitHubã€‚
2. é€²å…¥ GitHub **Settings** > **Pages**ã€‚
3. åœ¨ **Build and deployment** > **Source** é¸æ“‡ **GitHub Actions**ã€‚

### 2. è¨­å®šç’°å¢ƒè®Šæ•¸ (Secrets)
1. é€²å…¥ GitHub **Settings** > **Secrets and variables** > **Actions**ã€‚
2. é»é¸ **New repository secret**ï¼ŒåŠ å…¥ä»¥ä¸‹è®Šæ•¸ï¼ˆå…§å®¹åƒè€ƒä½ çš„ `.env`ï¼‰ï¼š
    - `VITE_GOOGLE_APP_SCRIPT_URL`: ä½ çš„ GAS ç¶²å€

    > å¦å¤–å…©å€‹åƒæ•¸ `VITE_PASS_THRESHOLD` å’Œ `VITE_QUESTION_COUNT` å¯ä»¥è¨­åœ¨ **Variables** åˆ†é ä¸­ï¼Œæˆ–ç¶­æŒé è¨­å€¼ã€‚

### 3. è¨­å®š Vite Base Path (é‡è¦)
å¦‚æœä½ çš„ GitHub Pages ç¶²å€æ˜¯ `https://username.github.io/my-repo/`ï¼Œè«‹ä¿®æ”¹ `vite.config.ts`ï¼š

```typescript
export default defineConfig({
  plugins: [react()],
  base: '/my-repo/', // å°‡ my-repo æ›æˆä½ çš„å„²å­˜åº«åç¨±
})
```

è¨­å®šå®Œæˆå¾Œï¼Œæ¯æ¬¡ Push åˆ° `main` åˆ†æ”¯å°±æœƒè‡ªå‹•éƒ¨ç½²ï¼

---
Have fun! ğŸ®
